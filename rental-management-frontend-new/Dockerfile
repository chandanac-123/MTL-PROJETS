FROM node:alpine
WORKDIR /app
ARG REACT_APP_API_URL
ARG REACT_APP_FIREBASE_API_KEY
ARG REACT_APP_FIREBASE_AUTH_DOMAIN
ARG REACT_APP_FIREBASE_PROJECTID
ARG REACT_APP_FIREBASE_STORAGE_BUCKET
ARG REACT_APP_FIREBASE_MESSAGING_SENDER_ID
ARG REACT_APP_FIREBASE_APP_ID
ARG REACT_APP_FIREBASE_MEASURMENT_ID
ARG REACT_APP_FIREBASE_VAPIED_KEY
COPY package.json .
COPY package-lock.json .
COPY . .
RUN npm i
RUN npm i -g serve
RUN chmod +x node_modules/.bin/react-scripts
RUN  npm run build
CMD ["serve", "-s", "build"]